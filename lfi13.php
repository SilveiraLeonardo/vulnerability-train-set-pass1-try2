
<?php include("../common/header.php"); ?>

<form action="/api/index.php" method="GET">
    <input type="text" name="file">
</form>

<?php
// Define a list of allowed files
$allowed_files = array('index.php', 'about.php', 'contact.php');

// Get the 'file' parameter, validate and sanitize it
$file = isset($_GET['file']) ? $_GET['file'] : '';
if (!in_array($file, $allowed_files)) {
    $file = 'index.php';
}

$baseDir = realpath('pages');
$filePath = realpath("pages/$file");

// Only include the file if it's within the intended directory and exists
if ($filePath !== false && strpos($filePath, $baseDir) === 0) {
    require($filePath);
} else {
    require("pages/index.php");
}

?>
