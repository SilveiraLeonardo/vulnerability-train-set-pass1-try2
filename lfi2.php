
<?php
include("../common/header.php");

// Import the htmlentities() function for output escaping
require_once('includes/htmlentities.php');
?>

<form action="/api/index.php" method="GET">
    <input type="text" name="library">
</form>

<?php
// Define the allowed libraries
$allowedLibraries = ['lib1', 'lib2', 'lib3']; // Add necessary library names here

// Check if the 'library' parameter is in the allowed list and set it to the default library if not
$library = (isset($_GET['library']) && in_array($_GET['library'], $allowedLibraries)) ? $_GET['library'] : 'default';

// Include the selected library file
include("includes/".$library.".php");

// When it's time to display user input, use the htmlentities() function to prevent XSS vulnerability
echo htmlentities($_GET['library'], ENT_QUOTES, 'UTF-8');
?>
