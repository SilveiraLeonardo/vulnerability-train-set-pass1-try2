
<?php
   include("../common/header.php");
?>

<form action="/api/index.php" method="POST">
    <input type="text" name="file">
    <button type="submit" name="submit">Submit</button>
</form>

<?php
   // Add your allowed files here with their unique keys to access them
   $allowed_files = [
       'file_key_1' => 'file1.php',
       'file_key_2' => 'file2.php',
       'file_key_3' => 'file_options.php'
   ];

   if (isset($_POST['submit']) && isset($_POST['file']))
   {
       $file_key = htmlspecialchars($_POST['file']);

       if (array_key_exists($file_key, $allowed_files))
       {
           $file = $allowed_files[$file_key];

           // The file is in the allowed list, so include it safely.
           include("pages/$file");
       }
       else
       {
           include("index.php");
       }
   }
   else
   {
       include("index.php");
   }
?>
