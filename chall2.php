
class Example2
{
   private $hook;

   function __construct()
   {
      // some PHP code...
   }

   function __wakeup()
   {
      if (isset($this->hook) && method_exists($this, $this->hook)) {
         call_user_func([$this, $this->hook]);
      }
   }

   // Make sure to add specific methods that can be used as hooks here
   function exampleMethod()
   {
      // some PHP code...
   }
}

// some PHP code...

// Decode JSON data from cookies instead of using unserialize()
if (isset($_COOKIE['data'])) {
    $user_data = json_decode($_COOKIE['data'], true);
} else {
    $user_data = []; // Default empty array if data is not present
}

// some PHP code...
