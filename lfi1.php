
<?php include("../common/header.php"); ?>

<!DOCTYPE html>
<html>
<head>
    <title>Secure page loader</title>
</head>
<body>
    <form action="/api/index.php" method="GET">
        <label for="page">Page name:</label>
        <input type="text" id="page" name="page">
        <button type="submit">Load page</button>
    </form>
    <?php
    // Page mapping
    $page_mapping = [
        'page1' => 'page1.php',
        'page2' => 'page2.php',
        'page3' => 'page3.php',
    ];

    if (isset($_GET['page']) && array_key_exists($_GET['page'], $page_mapping)) {
        // Escape user input for safe display in the context
        $page_name = htmlspecialchars($_GET['page'], ENT_QUOTES, 'UTF-8');
        include($page_mapping[$page_name]);
        echo "Loaded page: " . $page_name;
    } else {
        include('default_page.php');
    }
    ?>
</body>
</html>
